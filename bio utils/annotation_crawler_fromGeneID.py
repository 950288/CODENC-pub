import requests
from xml.etree import ElementTree as ET
import traceback
import time

output_file = 'GeneIDs_with_annotation.txt'
GeneID_list = ['35397106',	'35395258',	'35395567',	'35395562',	'35395555',	'35395544',	'35395510',	'35395501',	'35395494',	'35395455',	'35395453',	'35395432',	'35395345',	'35395282',	'35395258',	'35395250',	'35395211',	'35395170',	'35395151',	'35395120',	'35395066',	'35395051',	'35395032',	'35395023',	'35394997',	'35394986',	'35394974',	'35394853',	'35394849',	'35394821',	'35394814',	'35394766',	'35394740',	'35394688',	'35394612',	'35394594',	'35394578',	'35394546',	'35394518',	'35394407',	'35394330',	'35394312',	'35394300',	'35394187',	'35394151',	'35394144',	'35394114',	'35394113',	'35394061',	'35394011',	'35394004',	'35393997',	'35393985',	'35393967',	'35393948',	'35393918',	'35393900',	'35393820',	'35393795',	'35393761',	'35393751',	'35393744',	'35393696',	'35393690',	'35393685',	'35393683',	'35393652',	'35393636',	'35393627',	'35393606',	'35393579',	'35393539',	'35393532',	'35393526',	'35393520',	'35393517',	'35393505',	'35393497',	'35395119',	'35407879',	'35394579',	'35393799',	'35395344',	'35394306',	'35393793',	'35393779',	'35393592',	'35398799',	'35398783',	'35398759',	'35398747',	'35398727',	'35398680',	'35398660',	'35398653',	'35398650',	'35398637',	'35398636',	'35398628',	'35398537',	'35398497',	'35398481',	'35398469',	'35398461',	'35398383',	'35398346',	'35398342',	'35398309',	'35398275',	'35398271',	'35398220',	'35398204',	'35398175',	'35398157',	'35398112',	'35398093',	'35398075',	'35398073',	'35398048',	'35398047',	'35398039',	'35398030',	'35397945',	'35397928',	'35397916',	'35397871',	'35397802',	'35397779',	'35397701',	'35397665',	'35397573',	'35397567',	'35397545',	'35397537',	'35397535',	'35397525',	'35397514',	'35397497',	'35397470',	'35397455',	'35397445',	'35397423',	'35397410',	'35397393',	'35397389',	'35397370',	'35397360',	'35397347',	'35397289',	'35397285',	'35397267',	'35398799',	'35397235',	'35407879',	'35395580',	'35395581',	'35395600',	'35395602',	'35395603',	'35395635',	'35395638',	'35395651',	'35395676',	'35395682',	'35395704',	'35395705',	'35395726',	'35395758',	'35395786',	'35395792',	'35395802',	'35395816',	'35395836',	'35395880',	'35395981',	'35396036',	'35396088',	'35396134',	'35396147',	'35396167',	'35396232',	'35396247',	'35396253',	'35396267',	'35396372',	'35396471',	'35396483',	'35396529',	'35396584',	'35396606',	'35396629',	'35396659',	'35396715',	'35396752',	'35396764',	'35396766',	'35396782',	'35396892',	'35396939',	'35396956',	'35396992',	'35397021',	'35397024',	'35397070',	'35397082',	'35397097',	'35397106',	'35397117',	'35397144',	'35397153',	'35397165',	'35397173',	'35396119',	'35396348',	'35395620',	'35395655',	'35395918',	'35396433',	'35396543',	'35396977',	'35406412',	'35406424',	'35406428',	'35406488',	'35406514',	'35406518',	'35406519',	'35406555',	'35406590',	'35406604',	'35406636',	'35406649',	'35406723',	'35406802',	'35406844',	'35406911',	'35406949',	'35406966',	'35407015',	'35407052',	'35407072',	'35407074',	'35407081',	'35407086',	'35407107',	'35407161',	'35407162',	'35407165',	'35407002',	'35406420',	'35407049',	'35407174',	'35407838',	'35407842',	'35407885',	'35407904',	'35407956',	'35407996',	'35408033',	'35408148',	'35408163',	'35408181',	'35408196',	'35408199',	'35408216',	'35408238',	'35408240',	'35407917',	'35408053',	'35408127',	'35408128',	'35408201',	'35408207',	'35407883',	'35407889',	'35408120',	'35400178',	'35400191',	'35400193',	'35400200',	'35400204',	'35400211',	'35400214',	'35400216',	'35400223',	'35400225',	'35400228',	'35400256',	'35400269',	'35400290',	'35400299',	'35400302',	'35400313',	'35400339',	'35400340',	'35400363',	'35400378',	'35400391',	'35400412',	'35400426',	'35400441',	'35400477',	'35400479',	'35400485',	'35400502',	'35400541',	'35400588',	'35400703',	'35400767',	'35400786',	'35400787',	'35400800',	'35400897',	'35400912',	'35400926',	'35400947',	'35400948',	'35400994',	'35401018',	'35401046',	'35401054',	'35401130',	'35401191',	'35401218',	'35401245',	'35401386',	'35401394',	'35401398',	'35401430',	'35401486',	'35401488',	'35401499',	'35407836',	'35407826',	'35407756',	'35407755',	'35407739',	'35401134',	'35401333',	'35400324',	'35400394',	'35400921',	'35407721',	'35398844',	'35398851',	'35398873',	'35398878',	'35398901',	'35398910',	'35398975',	'35398990',	'35398999',	'35399011',	'35399024',	'35399050',	'35399056',	'35399069',	'35399119',	'35399202',	'35399234',	'35399246',	'35399256',	'35399259',	'35399277',	'35399285',	'35399311',	'35399318',	'35399335',	'35399345',	'35399371',	'35399440',	'35399443',	'35399483',	'35399505',	'35399515',	'35399555',	'35399581',	'35399584',	'35399611',	'35399643',	'35399689',	'35399704',	'35399740',	'35399751',	'35399763',	'35399796',	'35399801',	'35399835',	'35399859',	'35399874',	'35399893',	'35399923',	'35399959',	'35399989',	'35399999',	'35400003',	'35400012',	'35400044',	'35400073',	'35400084',	'35400123',	'35400126',	'35400132',	'35400161',	'35400174',	'35398905',	'35398882',	'35399110',	'35398860',	'35402613',	'35402601',	'35402598',	'35402567',	'35402559',	'35402539',	'35402488',	'35402467',	'35402423',	'35402417',	'35402370',	'35402357',	'35402337',	'35402303',	'35402291',	'35402283',	'35402274',	'35402258',	'35402197',	'35402176',	'35402123',	'35402113',	'35402084',	'35402082',	'35402081',	'35402080',	'35402004',	'35402001',	'35401979',	'35401900',	'35401865',	'35401826',	'35401807',	'35401783',	'35401779',	'35401759',	'35401730',	'35401700',	'35401678',	'35401597',	'35401584',	'35401559',	'35401555',	'35401546',	'35402635',	'35401868',	'35401652',	'35401649',	'35407530',	'35407520',	'35407508',	'35407493',	'35407448',	'35407417',	'35407357',	'35407345',	'35407284',	'35407280',	'35407260',	'35407253',	'35405586',	'35405620',	'35405646',	'35405699',	'35405718',	'35405784',	'35405876',	'35405886',	'35405895',	'35405904',	'35405908',	'35405913',	'35405935',	'35405949',	'35405962',	'35405969',	'35405975',	'35405984',	'35405992',	'35406001',	'35406021',	'35406039',	'35406048',	'35406055',	'35406058',	'35406070',	'35406096',	'35406102',	'35406135',	'35406141',	'35406147',	'35406171',	'35406205',	'35406218',	'35406222',	'35406259',	'35406267',	'35406270',	'35406394',	'35406403',	'35405578',	'35407541',	'35405705',	'35406126',	'35403665',	'35403625',	'35403618',	'35403603',	'35403585',	'35403572',	'35403534',	'35403486',	'35403476',	'35403453',	'35403416',	'35403388',	'35403244',	'35403238',	'35403219',	'35403214',	'35403139',	'35403123',	'35403119',	'35403106',	'35403084',	'35403023',	'35402966',	'35402849',	'35402829',	'35402797',	'35402778',	'35402767',	'35402743',	'35402737',	'35402727',	'35402708',	'35402700',	'35402697',	'35402663',	'35402659',	'35402646',	'35403606',	'35403637',	'35403328',	'35402709',	'35403674',	'35403684',	'35403694',	'35403718',	'35403728',	'35403739',	'35403781',	'35403814',	'35403844',	'35403859',	'35403922',	'35403924',	'35403936',	'35403959',	'35403971',	'35404000',	'35404034',	'35404080',	'35404103',	'35404121',	'35404124',	'35404133',	'35404153',	'35404248',	'35404256',	'35404260',	'35404265',	'35404280',	'35404304',	'35404328',	'35404330',	'35404348',	'35404363',	'35404399',	'35404410',	'35404427',	'35404437',	'35404440',	'35404444',	'35404463',	'35404505',	'35404513',	'35404520',	'35404537',	'35404566',	'35404589',	'35404608',	'35404619',	'35404630',	'35404643',	'35404644',	'35404648',	'35404655',	'35404581',	'35408269',	'35404579',	'35404669',	'35404689',	'35404699',	'35404704',	'35404712',	'35404721',	'35404733',	'35404744',	'35404767',	'35404783',	'35404796',	'35404803',	'35404813',	'35404823',	'35404946',	'35404953',	'35404959',	'35404966',	'35404978',	'35404981',	'35405037',	'35405082',	'35405099',	'35405119',	'35405129',	'35405174',	'35405177',	'35405180',	'35405269',	'35405280',	'35405322',	'35405354',	'35405356',	'35405377',	'35405393',	'35405421',	'35405424',	'35405429',	'35405462',	'35405483',	'35405493',	'35405503',	'35405506',	'35405515',	'35405520',	'35405524',	'35405565',	'35408296',	'35404775',	'35405105',	'35405433',	'35405535',	'35405544',	'35405558',	'35407675',	'35407667',	'35407572',	'35407568',	'35407555',	'35406135',	'35393923',	'35394151',	'35395981',	'35396167',	'35396209',	'35396401',	'35405949',	'35405913',	'35403403',	'35393627',	'35404699',	'35395032',	'35407161',	'35399751',	'35399740',	'35399643',	'35399555',	'35399515',	'35398759',	'35398653',	'35397235',	'35404170',	'35398073',	'35397347',	'35397360',	'35395258',	'35395250',	'35395120',	'35401134',	'35399643',	'35402357',	'35402001',	'35396782',	'35396629',	'35396606',	'35396483',	'35398271',	'35403832',	'35406590',	'35406636',	'35406643',	'35406649',	'35406881',	'35406966',	'35407002',	'35407049',	'35407052',	'35407081',	'35395906',	'35395906',	'35401018',	'35400912',	'35400910',	'35404080',	'35404170',	'35405280',	'35405913',	'35400767',	'35398271',	'35398275',	'35398481',	'35394546',	'35403728',	'35405354',	'35405393',	'35405520',	'35405535',	'35400262',	'35398275',	'35407072',	'35395120',	'35393627',	'35405280',	'35405949',	'35399515',	'35407052',	'35406590',	'35406643',	'35406649',	'35404699',	'35394151',	'35407002',	'35398759',	'35394546',	'35405393',	'35405520',	'35399751',	'35399740',	'35397235',	'35403625',	'35400910',	'35400912',	'35407161',	'35398073',	'35395250',	'35401559',	'35401018',	'35396401',	'35406135',	'35402357',	'35406135',	'35405354',	'35401559',	'35395250',	'35395120',	'35403728',	'35406590',	'35403625',	'35396483',	'35403403',	'35398759',	'35399751',	'35397235',	'35400910',	'35394546',	'35398653',	'35406649',	'35396606',	'35393627',	'35400767',	'35405913',	'35406636',	'35395258',	'35395032',	'35394989',	'35394612',	'35394546',	'35394151',	'35393923',	'35393627',	'35398275',	'35398073',	'35397779',	'35397360',	'35395981',	'35396167',	'35396471',	'35396629',	'35407161',	'35400262',	'35400766',	'35398905',	'35399751',	'35401988',	'35405913',	'35405949',	'35403403',	'35402833',	'35402646',	'35403728',	'35403832',	'35404080',	'35405354',	'35405393',	'35405520',	'35405535',	'35394612',	'35398759',	'35398271',	'35397360',	'35395906',	'35395981',	'35396167',	'35396782',	'35406590',	'35406636',	'35406643',	'35406881',	'35407049',	'35400262',	'35400766',	'35400910',	'35400912',	'35401018',	'35398905',	'35399365',	'35399515',	'35399751',	'35399796',	'35405949',	'35402833',	'35402646',	'35404700',	'35404888',	'35405393',	'35405535',	'35393627',	'35397360',	'35395906',	'35406649',	'35399024',	'35399740',	'35404700',	'35404888',	'35405393',	'35393497',	'35400485',	'35397779',	'35405913',	'35393627',	'35399740',	'35399365',	'35394546',	'35394989',	'35395120',	'35405280',	'35405354',	'35405520',	'35405535',	'35393627',	'35395120',	'35395250',	'35395258',	'35399796',	'35396483',	'35400910',	'35401018',	'35396483',	'35399515',	'35398905',	'35404699',	'35399515',	'35400262',	'35398342',	'35398073',	'35406636',	'35406643',	'35406649',	'35398073',	'35398342',	'35407002',	'35406649',	'35401018',	'35406649',	'35407049',	'35405520',	'35405535',	'35403625',	'35404170',	'35398342',	'35403625',	'35406649',	'35406643',	'35395120',	'35395250',	'35396401',	'35395120',	'35395250',	'35401559',	'35395250',	'35405520',	'35405949',	'35404888',	'35403625',	'35403403',	'35398342',	'35398905',	'35401559',	'35405913',	'35404699',	'35395250',	'35395120',	'35393985',	'35393627',	'35401249',	'35396606',	'35395906',	'35397525',	'35397235',	'35397779',	'35406590',	'35406636',	'35406643',	'35406649',	'35398073',	'35398342',	'35398653',	'35396483',	'35405913',	'35406643',	'35406649',	'35406881',	'35407161',	'35398342',	'35401018',	'35400262',	'35395250',	'35395120',	'35403625',	'35398905',	'35401559',	'35405949',	'35405913',	'35403625',	'35396471',	'35396401',	'35395906',	'35394546',	'35400262',	'35400910',	'35400912',	'35401134',	'35394612',	'35394546',	'35393985',	'35393923',	'35407052',	'35393627',	'35406649',	'35406643',	'35398905',	'35399555',	'35399751',	'35399515',	'35399796',	'35405913',	'35405949',	'35403625',	'35403403',	'35397235',	'35397347',	'35397525',	'35398342',	'35398073',	'35403832',	'35404170',	'35405535',	'35405520',	'35405280',	'35404704',	'35395250',	'35395120',	'35402001',	'35395120',	'35395250',	'35402357',	'35406590',	'35406636',	'35406643',	'35406649',	'35407002',	'35403625',	'35398275',	'35398342',	'35401559',	'35405949',	'35398905',	'35403728',	'35397360',	'35399796',	'35404170',	'35394612',	'35399796',	'35397779',	'35399515',	'35403625',	'35402646',	'35402833',	'35405949',	'35404080',	'35395032',	'35393985',	'35404170',	'35405520',	'35405354',	'35407072',	'35398905',	'35395906',	'35400881',	'35400766',	'35400262',	'35397360',	'35405354',	'35394151',	'35406881',	'35404700',	'35401988',	'35405949',	'35405913',	'35405650',	'35400262',	'35402833',	'35405520',	'35402646',	'35403625',	'35394612',	'35404700',	'35402833',	'35399751',	'35399796',	'35401559',	'35404170',	'35406643',	'35396782',	'35395981',	'35403625',	'35400766',	'35400262',	'35400912',	'35395258',	'35395250',	'35395170',	'35395120',	'35395032',	'35394989',	'35394612',	'35394546',	'35394151',	'35394004',	'35393985',	'35393923',	'35393627',	'35398759',	'35398653',	'35398275',	'35398271',	'35398073',	'35397779',	'35397525',	'35397360',	'35397347',	'35397235',	'35395906',	'35395981',	'35396167',	'35396209',	'35396401',	'35396471',	'35396483',	'35396606',	'35396629',	'35396782',	'35396543',	'35406590',	'35406636',	'35406643',	'35406649',	'35406881',	'35406966',	'35407052',	'35407072',	'35407081',	'35407161',	'35407002',	'35407049',	'35400262',	'35400485',	'35400767',	'35400881',	'35400910',	'35400912',	'35401018',	'35401046',	'35401134',	'35399515',	'35399555',	'35399581',	'35399643',	'35399740',	'35399751',	'35399796',	'35398905',	'35402357',	'35402001',	'35401988',	'35401559',	'35405650',	'35405913',	'35405949',	'35406135',	'35403625',	'35403403',	'35403219',	'35403728',	'35403832',	'35404080',	'35404170',	'35404699',	'35404704',	'35404888',	'35405280',	'35405354',	'35405393',	'35405520',	'35405535'
               ]        # 每次要用excel修改索引号格式再粘贴至GeneID_list
with open(output_file, 'w') as out_handle:
    for GeneID in GeneID_list:
        url = rf"http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=gene&id={GeneID}"
        while True:
            try:
                response = requests.get(url)  # 发起GET请求
                if response.status_code == 200:
                    break
                else:
                    print(f'Failed to retrieve the page: {response.status_code}')
            except requests.exceptions.SSLError as e:
                traceback.print_exc()
                time.sleep(10)
                continue

        # Parse the XML response
        root = ET.fromstring(response.content)

        # Find the Description element and get its text
        description = root.find(".//Description").text
        out_handle.write(f"{GeneID} {description}\n")
        out_handle.flush()

        print(f"GeneID: {GeneID}, Description: {description}")



